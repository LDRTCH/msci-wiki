<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Dissipation Learning in Active Matter - Import packages</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      Dissipation Learning in Active Matter
      </li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../../">Dissipation Learning in Active Matter</a> 
        <div class="sidebar-tools-main">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-git"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://github.com/ldrtch/msci-wiki">
            GitHub mirror
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true"><i class="bi bi-person-fill" role="img">
</i> 
 <span class="menu-text">Personal</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../activity_log/landing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Activity log</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../motivational-report/motivational-report.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Motivational Report</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../structured_information/landing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Information Glossary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CNN Models</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false"><i class="bi bi-archive" role="img">
</i> 
 <span class="menu-text">Python Notebooks</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../notebooks/cp_network.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Preliminary CNN Training and Analysis</strong></span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true"><i class="bi bi-diagram-3-fill" role="img">
</i> 
 <span class="menu-text">Shared</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/LDRTCH/msci-wiki" class="sidebar-item-text sidebar-link"><i class="bi bi-git" role="img">
</i> 
 <span class="menu-text">GitHub Repository (cp fork)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/dlactivematter" class="sidebar-item-text sidebar-link"><i class="bi bi-git" role="img">
</i> 
 <span class="menu-text">GitHub Shared Organisation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://cryptpad.fr/sheet/#/3/sheet/edit/7200dabe21ea346d966571a07eb6f33a/" class="sidebar-item-text sidebar-link"><i class="bi bi-pc-display" role="img">
</i> 
 <span class="menu-text">CNN Models Parameter Tables</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false"><i class="bi bi-diagram-2-fill" role="img">
</i> 
 <span class="menu-text">FT notes</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../shared/ftnotes/label.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Minimal cluster analysis</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.zotero.org/groups/5210328/dissipation_learning_in_active_matter/library" class="sidebar-item-text sidebar-link"><i class="bi bi-bookmarks-fill" role="img">
</i> 
 <span class="menu-text">Zotero library</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul class="collapse">
  <li><a href="#set-seed-optional" id="toc-set-seed-optional" class="nav-link active" data-scroll-target="#set-seed-optional">Set seed (optional)</a></li>
  <li><a href="#setup-gpu" id="toc-setup-gpu" class="nav-link" data-scroll-target="#setup-gpu">Setup GPU</a></li>
  <li><a href="#define-functions" id="toc-define-functions" class="nav-link" data-scroll-target="#define-functions">Define Functions</a></li>
  <li><a href="#import-and-prepare-data" id="toc-import-and-prepare-data" class="nav-link" data-scroll-target="#import-and-prepare-data">Import and prepare data</a></li>
  <li><a href="#predict-multiple-models" id="toc-predict-multiple-models" class="nav-link" data-scroll-target="#predict-multiple-models">Predict multiple models</a></li>
  <li><a href="#plot-one-results" id="toc-plot-one-results" class="nav-link" data-scroll-target="#plot-one-results">Plot one results</a>
  <ul class="collapse">
  <li><a href="#predict-one-on-one" id="toc-predict-one-on-one" class="nav-link" data-scroll-target="#predict-one-on-one">Predict one on one</a></li>
  <li><a href="#predict-one-on-two" id="toc-predict-one-on-two" class="nav-link" data-scroll-target="#predict-one-on-two">Predict one on two</a></li>
  <li><a href="#predict-one-on-three" id="toc-predict-one-on-three" class="nav-link" data-scroll-target="#predict-one-on-three">Predict one on three</a></li>
  </ul></li>
  <li><a href="#plot-monochrome-results" id="toc-plot-monochrome-results" class="nav-link" data-scroll-target="#plot-monochrome-results">Plot monochrome results</a>
  <ul class="collapse">
  <li><a href="#predict-two-on-two" id="toc-predict-two-on-two" class="nav-link" data-scroll-target="#predict-two-on-two">Predict two on two</a></li>
  <li><a href="#predict-two-on-one" id="toc-predict-two-on-one" class="nav-link" data-scroll-target="#predict-two-on-one">Predict two on one</a></li>
  <li><a href="#predict-two-on-three" id="toc-predict-two-on-three" class="nav-link" data-scroll-target="#predict-two-on-three">Predict two on three</a></li>
  </ul></li>
  <li><a href="#plot-scrambled-results" id="toc-plot-scrambled-results" class="nav-link" data-scroll-target="#plot-scrambled-results">Plot Scrambled Results</a>
  <ul class="collapse">
  <li><a href="#predict-three-on-three" id="toc-predict-three-on-three" class="nav-link" data-scroll-target="#predict-three-on-three">Predict three on three</a></li>
  <li><a href="#predict-three-on-one" id="toc-predict-three-on-one" class="nav-link" data-scroll-target="#predict-three-on-one">Predict three on one</a></li>
  <li><a href="#predict-three-on-two" id="toc-predict-three-on-two" class="nav-link" data-scroll-target="#predict-three-on-two">Predict three on two</a></li>
  <li><a href="#combined-plots" id="toc-combined-plots" class="nav-link" data-scroll-target="#combined-plots">Combined plots</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Import packages</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> h5py</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> glob</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> tensorflow <span class="im">as</span> tf</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.ticker <span class="im">as</span> ticker</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> pearsonr</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>sys.path.append(<span class="st">'./..'</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> src.training_utils <span class="im">import</span> data_load, extract_floats, split_dataset, predict_multi_by_name, plot_violin_and_statistics,cross_mean_err_calculator</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tensorflow <span class="im">import</span> keras</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> keras <span class="im">import</span> backend <span class="im">as</span> K</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tensorflow.keras.models <span class="im">import</span> Sequential</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tensorflow.keras.layers <span class="im">import</span> Dense,Conv2D,Flatten,Dropout,MaxPooling2D,BatchNormalization,AveragePooling2D,LeakyReLU,GlobalAveragePooling2D,ReLU</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> cmcrameri <span class="im">import</span> cm</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>np.set_printoptions(precision<span class="op">=</span><span class="dv">3</span>, suppress<span class="op">=</span><span class="va">True</span>) <span class="co">#set precision to 5 when running lower bound extrapolation, otherwise it won't be able to read the datasets!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>2024-04-16 13:02:10.900667: I tensorflow/core/util/port.cc:113] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2024-04-16 13:02:12.200282: I tensorflow/core/platform/cpu_feature_guard.cc:210] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.
To enable the following instructions: AVX2 AVX_VNNI FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.
2024-04-16 13:02:13.607396: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:38] TF-TRT Warning: Could not find TensorRT</code></pre>
</div>
</div>
<section id="set-seed-optional" class="level1">
<h1>Set seed (optional)</h1>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>fixed_seed <span class="op">=</span> <span class="dv">216</span> <span class="co">#choose seed (comment out if not needed)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="st">'fixed_seed'</span> <span class="kw">in</span> <span class="bu">locals</span>():</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    keras.utils.set_random_seed(fixed_seed)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Running program with fixed seed:"</span>,fixed_seed)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Running program with random seed."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Running program with fixed seed: 216</code></pre>
</div>
</div>
</section>
<section id="setup-gpu" class="level1">
<h1>Setup GPU</h1>
<p>First, follow instructions <a href="https://gist.github.com/zrruziev/b93e1292bf2ee39284f834ec7397ee9f">here</a>, or alternatively run:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> a <span class="kw">in</span> /sys/bus/pci/devices/<span class="pp">*</span><span class="kw">;</span> <span class="cf">do</span> <span class="bu">echo</span> 0 <span class="kw">|</span> <span class="fu">sudo</span> tee <span class="at">-a</span> <span class="va">$a</span>/numa_node<span class="kw">;</span> <span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We do this as a workaround for <a href="https://github.com/tensorflow/tensorflow/issues/42738">this error</a>:</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>gpu_devices <span class="op">=</span> tf.config.experimental.list_physical_devices(<span class="st">'GPU'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> device <span class="kw">in</span> gpu_devices:</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    tf.config.experimental.set_memory_growth(device, <span class="va">True</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tf.config.list_physical_devices(<span class="st">'GPU'</span>), tf.test.gpu_device_name())</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"TF Version:"</span>,tf.__version__)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')] /device:GPU:0
TF Version: 2.16.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>2024-04-16 13:02:17.503910: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:18.122505: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:18.122771: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:18.127796: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:18.128061: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:18.128265: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:18.318392: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:18.318587: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:18.318726: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:18.319151: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1928] Created device /device:GPU:0 with 6188 MB memory:  -&gt; device: 0, name: NVIDIA GeForce RTX 4060 Laptop GPU, pci bus id: 0000:01:00.0, compute capability: 8.9</code></pre>
</div>
</div>
</section>
<section id="define-functions" class="level1">
<h1>Define Functions</h1>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> violin_plotter (v,y_val,adjustment,legloc<span class="op">=</span><span class="st">"upper left"</span>):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    bins <span class="op">=</span> np.logspace(<span class="op">-</span><span class="dv">6</span>,<span class="op">-</span><span class="dv">1</span>,<span class="dv">10</span>, base<span class="op">=</span><span class="dv">2</span>)<span class="op">*</span><span class="fl">0.85</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#v = prediction2.T[0]</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    colors <span class="op">=</span> cm.batlowS(np.digitize(v, bins))</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    colors_actual <span class="op">=</span> cm.batlowS(np.digitize(np.unique(y_val),bins))</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    fig, (ax1,ax2) <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">2</span>,ncols<span class="op">=</span><span class="dv">1</span>,figsize<span class="op">=</span>(<span class="dv">9</span>,<span class="dv">6</span>),dpi<span class="op">=</span><span class="dv">600</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.DataFrame()</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    df.insert(<span class="dv">0</span>, <span class="st">"predicted"</span>, v <span class="op">-</span> y_val)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    df.insert(<span class="dv">1</span>, <span class="st">"actual"</span>, y_val)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    sns.violinplot(</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        ax<span class="op">=</span>ax1,</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>        data<span class="op">=</span>df,</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">"actual"</span>,</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">"predicted"</span>,</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">"w"</span>,</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>        alpha<span class="op">=</span><span class="fl">0.7</span>,</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>        density_norm<span class="op">=</span><span class="st">"width"</span>,</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>        linewidth<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>        inner<span class="op">=</span><span class="st">"box"</span>,</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>        inner_kws<span class="op">=</span>{<span class="st">"box_width"</span>: <span class="dv">4</span>, <span class="st">"color"</span>: <span class="st">"0.2"</span>},</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    ax1.set_xlabel(<span class="st">"Actual turning rate"</span>)</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    ax1.set_ylabel(<span class="vs">r"Prediction Difference $P_</span><span class="sc">{pred}</span><span class="vs">-P_</span><span class="sc">{true}</span><span class="vs">$"</span>)</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>    std <span class="op">=</span> []</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    means <span class="op">=</span> []</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>    overlap <span class="op">=</span> []</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>    std_div <span class="op">=</span> []</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>    accuracy <span class="op">=</span> <span class="fl">5e-3</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span> (<span class="st">"Prediction means and standard deviations."</span>)</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> val <span class="kw">in</span> np.unique(y_val):</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>        v_mapped <span class="op">=</span> v[np.where(y_val <span class="op">==</span> val)]</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>        stdev <span class="op">=</span> np.std(v_mapped)</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>        std.append(stdev)</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>        mean <span class="op">=</span> np.mean(v_mapped)</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>        overlap.append((val <span class="op">+</span> accuracy <span class="op">&gt;=</span> np.<span class="bu">min</span>(v_mapped)) <span class="op">&amp;</span> (val <span class="op">-</span> accuracy <span class="op">&lt;=</span> np.<span class="bu">max</span>(v_mapped)))</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>        within_std <span class="op">=</span> <span class="bu">abs</span>(val<span class="op">-</span>mean)<span class="op">/</span>stdev</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span> (<span class="ss">f"Actual value </span><span class="sc">{</span>val<span class="sc">}</span><span class="ss">: Average = </span><span class="sc">{</span>mean<span class="sc">:.5f}</span><span class="ss"> +- </span><span class="sc">{</span>stdev<span class="sc">:.5f}</span><span class="ss">; Expected value within </span><span class="sc">{</span>within_std<span class="sc">:.3f}</span><span class="ss"> stdevs of mean"</span>)</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>        std_div.append(within_std)</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"With accuracy </span><span class="sc">{</span>accuracy<span class="sc">}</span><span class="ss">, overlap ratio:"</span>, np.<span class="bu">sum</span>(overlap)<span class="op">/</span><span class="bu">len</span>(overlap))</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"(Min, Max, Avg) STD:"</span>, np.<span class="bu">min</span>(std), np.<span class="bu">max</span>(std), np.mean(std))</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Pearson's correlation coeff: "</span>, pearsonr(y_val, v).statistic)</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> val <span class="kw">in</span> np.unique(y_val):</span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>        v_mapped <span class="op">=</span> v[np.where(y_val <span class="op">==</span> val)]</span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>        means.append(np.mean(v_mapped))</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>    ax2.errorbar(np.sort(np.unique(y_val)),np.<span class="bu">abs</span>(means<span class="op">-</span>np.sort(np.unique(y_val))),yerr<span class="op">=</span>(std),ecolor<span class="op">=</span><span class="st">'black'</span>,elinewidth<span class="op">=</span><span class="fl">0.5</span>,capsize<span class="op">=</span><span class="dv">3</span>,color<span class="op">=</span><span class="st">'purple'</span>,label<span class="op">=</span><span class="vs">r'$|\langle P_</span><span class="sc">{pred}</span><span class="vs"> \rangle -P_</span><span class="sc">{true}</span><span class="vs">|$'</span>)</span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>    ax2.plot(np.sort(np.unique(y_val)),np.zeros(np.unique(y_val).shape[<span class="dv">0</span>]),color<span class="op">=</span><span class="st">'red'</span>,label<span class="op">=</span><span class="st">'True value line'</span>,linestyle<span class="op">=</span><span class="st">'dotted'</span>,alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>    ax2.legend(loc<span class="op">=</span>legloc)</span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>    counter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> np.sort(np.unique(y_val)):</span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a>        ax2.text(i,adjustment,<span class="ss">f"$</span><span class="sc">{</span>std_div[counter]<span class="sc">:.3f}</span><span class="ss"> \sigma$"</span>,ha<span class="op">=</span><span class="st">"center"</span>)</span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>        counter <span class="op">=</span> counter <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a>    ax2.set_xscale(<span class="st">"log"</span>)</span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a>    ax2.get_xaxis().set_major_formatter(ticker.ScalarFormatter())</span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>    ax2.set_xticks(np.unique(y_val))</span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a>    ax2.set_xlabel(<span class="st">"Actual turning rate"</span>)</span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>    ax2.set_ylabel(<span class="st">"Absolute mean prediction difference"</span>)</span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a>    fig.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="import-and-prepare-data" class="level1">
<h1>Import and prepare data</h1>
<p>set model1 to have orientation, model2 to be monochrome, model3 to be scrambled</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#all alphas: [0.016,0.023,0.034,0.050,0.073,0.107,0.157,0.231,0.340,0.500]</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#NOTE: we're using interpolation alphas below, so the loaded alphas should be the midpoints of the above!</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">#all densities: [0.05,0.10,0.15,0.20,0.25,0.30,0.35,0.40,0.45,0.50,0.55,0.60,0.65,0.70,0.75,0.80,0.85,0.90,0.95]</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">#MIDWAY INTERPOLATION alphas=[0.019,0.028,0.042,0.061,0.090,0.132,0.194,0.286,0.420]</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">#MORE ARBITRARY INTERPOLATION alphas = [0.017,0.019,0.020,0.022,0.024,0.027,0.029,0.032,0.035,0.038,0.042,0.045,0.054,0.059,0.065,0.071,0.077,0.085,0.092,0.101,0.110,0.121,0.132,0.144,0.172,0.188,0.206,0.225,0.246,0.268,0.293,0.321,0.350,0.383,0.419,0.457]</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#LOW EXTRAPOLATION alphas= np.around([0.0009765625,0.0010485156443048034,0.001125770297704363,0.0012087170754935827,0.0012977753735100123,0.0013933954886848076,0.0014960608958359115,0.0016062906922154109,0.0017246422221711894,0.0018517138951936946,0.001988148211596466,0.0021346350111288433,0.0022919149609465345,0.002460783300575925,0.0026420938628074157,0.0028367633908482908,0.0030457761735634683,0.0032701890222408933,0.0035111366140450867,0.003769837229176494,0.004047598910744807,0.0043458260785019,0.004666026629874729,0.00500981956420247,0.005378943168727615,0.005775263807731052,0.006200785359250777,0.006657659347098239,0.007148195819401841,0.007674875028681752,0.008240359972512863,0.008847509858184024,0.009499394559433653,0.01019931013835789,0.010950795510973272,0.011757650340698408,0.012623954250227692,0.013554087448936302,0.014552752880112747],decimals=5)</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">#HIGH EXTRAPOLATION alphas= [0.509,0.518,0.527,0.537,0.546,0.556,0.566,0.576,0.587,0.597,0.608,0.619,0.630,0.641,0.653,0.664,0.676,0.689,0.701,0.71,0.726,0.739,0.752,0.766,0.780,0.794,0.808,0.822,0.837,0.852,0.867,0.883,0.899,0.915,0.931,0.948,0.965,0.982,1.000]</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>alpha_list <span class="op">=</span> np.around([<span class="fl">0.0009765625</span>,<span class="fl">0.0010485156443048034</span>,<span class="fl">0.001125770297704363</span>,<span class="fl">0.0012087170754935827</span>,<span class="fl">0.0012977753735100123</span>,<span class="fl">0.0013933954886848076</span>,<span class="fl">0.0014960608958359115</span>,<span class="fl">0.0016062906922154109</span>,<span class="fl">0.0017246422221711894</span>,<span class="fl">0.0018517138951936946</span>,<span class="fl">0.001988148211596466</span>,<span class="fl">0.0021346350111288433</span>,<span class="fl">0.0022919149609465345</span>,<span class="fl">0.002460783300575925</span>,<span class="fl">0.0026420938628074157</span>,<span class="fl">0.0028367633908482908</span>,<span class="fl">0.0030457761735634683</span>,<span class="fl">0.0032701890222408933</span>,<span class="fl">0.0035111366140450867</span>,<span class="fl">0.003769837229176494</span>,<span class="fl">0.004047598910744807</span>,<span class="fl">0.0043458260785019</span>,<span class="fl">0.004666026629874729</span>,<span class="fl">0.00500981956420247</span>,<span class="fl">0.005378943168727615</span>,<span class="fl">0.005775263807731052</span>,<span class="fl">0.006200785359250777</span>,<span class="fl">0.006657659347098239</span>,<span class="fl">0.007148195819401841</span>,<span class="fl">0.007674875028681752</span>,<span class="fl">0.008240359972512863</span>,<span class="fl">0.008847509858184024</span>,<span class="fl">0.009499394559433653</span>,<span class="fl">0.01019931013835789</span>,<span class="fl">0.010950795510973272</span>,<span class="fl">0.011757650340698408</span>,<span class="fl">0.012623954250227692</span>,<span class="fl">0.013554087448936302</span>,<span class="fl">0.014552752880112747</span>],decimals<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(alpha_list)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>x1,y1,shape1 <span class="op">=</span> data_load(alphas <span class="op">=</span> alpha_list, densities<span class="op">=</span>[<span class="fl">0.25</span>],orientation<span class="op">=</span><span class="va">True</span>,scrambled<span class="op">=</span><span class="va">False</span>,path<span class="op">=</span><span class="ss">f"../data/no-rolling/low-extrapolation-set/"</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>x2,y2,shape2 <span class="op">=</span> data_load(alphas <span class="op">=</span> alpha_list, densities<span class="op">=</span>[<span class="fl">0.25</span>],orientation<span class="op">=</span><span class="va">False</span>,scrambled<span class="op">=</span><span class="va">False</span>,path<span class="op">=</span><span class="ss">f"../data/no-rolling/low-extrapolation-set/"</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>x3,y3,shape3 <span class="op">=</span> data_load(alphas <span class="op">=</span> alpha_list, densities<span class="op">=</span>[<span class="fl">0.25</span>],orientation<span class="op">=</span><span class="va">False</span>,scrambled<span class="op">=</span><span class="va">True</span>,path<span class="op">=</span><span class="ss">f"../data/no-rolling/low-extrapolation-set/"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[0.001 0.001 0.001 0.001 0.001 0.001 0.002 0.002 0.002 0.002 0.002 0.002
 0.002 0.002 0.003 0.003 0.003 0.003 0.004 0.004 0.004 0.004 0.005 0.005
 0.005 0.006 0.006 0.007 0.007 0.008 0.008 0.009 0.009 0.01  0.011 0.012
 0.013 0.014 0.015]</code></pre>
</div>
</div>
<p>We have N * number of unique alpha snapshots total, we split them into training set and a validation set with the ratio 80/20:</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Orientation model:"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>x_train1, y_train1, x_val1, y_val1 <span class="op">=</span> split_dataset(x1,y1,last<span class="op">=</span><span class="bu">int</span>(<span class="bu">len</span>(x1)<span class="op">*</span><span class="dv">1</span>)) <span class="co">#len(x)*1 means no training, only validation!</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>x_train2, y_train2, x_val2, y_val2 <span class="op">=</span> split_dataset(x2,y2,last<span class="op">=</span><span class="bu">int</span>(<span class="bu">len</span>(x1)<span class="op">*</span><span class="dv">1</span>)) <span class="co">#len(x)*1 means no training, only validation!</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>x_train3, y_train3, x_val3, y_val3 <span class="op">=</span> split_dataset(x3,y3,last<span class="op">=</span><span class="bu">int</span>(<span class="bu">len</span>(x1)<span class="op">*</span><span class="dv">1</span>)) <span class="co">#len(x)*1 means no training, only validation!</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Orientation model:
Number of unique alpha:  39
Shape of x:  (39000, 128, 128, 1)
Shape of y:  (39000,)
Size of training data:  0
Size of validation data:  39000
Number of unique alpha:  39
Shape of x:  (39000, 128, 128, 1)
Shape of y:  (39000,)
Size of training data:  0
Size of validation data:  39000
Number of unique alpha:  39
Shape of x:  (39000, 128, 128, 1)
Shape of y:  (39000,)
Size of training data:  0
Size of validation data:  39000</code></pre>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>fig, (ax1,ax2,ax3) <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">1</span>,ncols<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>ax1.matshow(x_val1[<span class="dv">500</span>],cmap<span class="op">=</span>plt.get_cmap(name<span class="op">=</span><span class="st">"gnuplot"</span>,lut<span class="op">=</span><span class="dv">5</span>))</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>ax2.matshow(x_val2[<span class="dv">500</span>],cmap<span class="op">=</span>plt.get_cmap(name<span class="op">=</span><span class="st">"gnuplot"</span>,lut<span class="op">=</span><span class="dv">5</span>))</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>ax3.matshow(x_val3[<span class="dv">500</span>],cmap<span class="op">=</span>plt.get_cmap(name<span class="op">=</span><span class="st">"gnuplot"</span>,lut<span class="op">=</span><span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>&lt;matplotlib.image.AxesImage at 0x7579ddf8ce50&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-8-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="predict-multiple-models" class="level1">
<h1>Predict multiple models</h1>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>models_one <span class="op">=</span> [<span class="st">'orientation0216'</span>,<span class="st">'orientation0226'</span>,<span class="st">'orientation0236'</span>,<span class="st">'orientation0246'</span>,<span class="st">'orientation0256'</span>,<span class="st">'orientation0266'</span>,<span class="st">'orientation0276'</span>,<span class="st">'orientation0286'</span>,<span class="st">'orientation0296'</span>,<span class="st">'orientation0306'</span>] <span class="co">#array of model names</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>models_two <span class="op">=</span> [<span class="st">'monochrome0216'</span>,<span class="st">'monochrome0226'</span>,<span class="st">'monochrome0236'</span>,<span class="st">'monochrome0246'</span>,<span class="st">'monochrome0256'</span>,<span class="st">'monochrome0266'</span>,<span class="st">'monochrome0276'</span>,<span class="st">'monochrome0286'</span>,<span class="st">'monochrome0296'</span>,<span class="st">'monochrome0306'</span>] <span class="co"># array of model names</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>models_three <span class="op">=</span> [<span class="st">'scrambled0216'</span>,<span class="st">'scrambled0226'</span>,<span class="st">'scrambled0236'</span>,<span class="st">'scrambled0246'</span>,<span class="st">'scrambled0256'</span>,<span class="st">'scrambled0266'</span>,<span class="st">'scrambled0276'</span>,<span class="st">'scrambled0286'</span>,<span class="st">'scrambled0296'</span>,<span class="st">'scrambled0306'</span>] <span class="co"># array of model names</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>one_pred_of_one, one_actuals_of_one <span class="op">=</span> predict_multi_by_name(models_one,x_val1,y_val1)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>one_pred_of_two, one_actuals_of_two <span class="op">=</span> predict_multi_by_name(models_one,x_val2,y_val2)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>one_pred_of_three, one_actuals_of_three <span class="op">=</span> predict_multi_by_name(models_one,x_val3,y_val3)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>two_pred_of_two, two_actuals_of_two <span class="op">=</span> predict_multi_by_name(models_two,x_val2,y_val2)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>two_pred_of_one, two_actuals_of_one <span class="op">=</span> predict_multi_by_name(models_two,x_val1,y_val1)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>two_pred_of_three, two_actuals_of_three <span class="op">=</span> predict_multi_by_name(models_two,x_val3,y_val3)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>three_pred_of_three, three_actuals_of_three <span class="op">=</span> predict_multi_by_name(models_three,x_val3,y_val3)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>three_pred_of_one, three_actuals_of_one <span class="op">=</span> predict_multi_by_name(models_three,x_val1,y_val1)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>three_pred_of_two, three_actuals_of_two <span class="op">=</span> predict_multi_by_name(models_three,x_val2,y_val2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>2024-04-16 13:02:52.008857: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:52.009050: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:52.009105: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:52.009200: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:52.009260: I external/local_xla/xla/stream_executor/cuda/cuda_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero. See more at https://github.com/torvalds/linux/blob/v6.0/Documentation/ABI/testing/sysfs-bus-pci#L344-L355
2024-04-16 13:02:52.009317: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1928] Created device /job:localhost/replica:0/task:0/device:GPU:0 with 6188 MB memory:  -&gt; device: 0, name: NVIDIA GeForce RTX 4060 Laptop GPU, pci bus id: 0000:01:00.0, compute capability: 8.9
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
I0000 00:00:1713268975.456310   73896 service.cc:145] XLA service 0x7577b0003c30 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
I0000 00:00:1713268975.456434   73896 service.cc:153]   StreamExecutor device (0): NVIDIA GeForce RTX 4060 Laptop GPU, Compute Capability 8.9
2024-04-16 13:02:55.462404: I tensorflow/compiler/mlir/tensorflow/utils/dump_mlir_util.cc:268] disabling MLIR crash reproducer, set env var `MLIR_CRASH_REPRODUCER_DIRECTORY` to enable.
2024-04-16 13:02:55.500458: I external/local_xla/xla/stream_executor/cuda/cuda_dnn.cc:465] Loaded cuDNN version 8907
I0000 00:00:1713268976.125776   73896 device_compiler.h:188] Compiled cluster using XLA!  This line is logged at most once for the lifetime of the process.</code></pre>
</div>
</div>
</section>
<section id="plot-one-results" class="level1">
<h1>Plot one results</h1>
<section id="predict-one-on-one" class="level2">
<h2 class="anchored" data-anchor-id="predict-one-on-one">Predict one on one</h2>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>violin_plotter(one_pred_of_one,one_actuals_of_one,<span class="op">-</span><span class="fl">0.001</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Prediction means and standard deviations.
Actual value 0.00098: Average = 0.08768 +- 0.08044; Expected value within 1.078 stdevs of mean
Actual value 0.00105: Average = 0.09190 +- 0.08411; Expected value within 1.080 stdevs of mean
Actual value 0.00113: Average = 0.08831 +- 0.08035; Expected value within 1.085 stdevs of mean
Actual value 0.00121: Average = 0.08439 +- 0.07548; Expected value within 1.102 stdevs of mean
Actual value 0.0013: Average = 0.08477 +- 0.07560; Expected value within 1.104 stdevs of mean
Actual value 0.00139: Average = 0.07639 +- 0.06910; Expected value within 1.085 stdevs of mean
Actual value 0.0015: Average = 0.07906 +- 0.07357; Expected value within 1.054 stdevs of mean
Actual value 0.00161: Average = 0.07298 +- 0.06640; Expected value within 1.075 stdevs of mean
Actual value 0.00172: Average = 0.07547 +- 0.06834; Expected value within 1.079 stdevs of mean
Actual value 0.00185: Average = 0.06422 +- 0.05615; Expected value within 1.111 stdevs of mean
Actual value 0.00199: Average = 0.06524 +- 0.05801; Expected value within 1.090 stdevs of mean
Actual value 0.00213: Average = 0.06308 +- 0.05599; Expected value within 1.089 stdevs of mean
Actual value 0.00229: Average = 0.05808 +- 0.05111; Expected value within 1.092 stdevs of mean
Actual value 0.00246: Average = 0.05344 +- 0.04662; Expected value within 1.093 stdevs of mean
Actual value 0.00264: Average = 0.05654 +- 0.05026; Expected value within 1.073 stdevs of mean
Actual value 0.00284: Average = 0.04901 +- 0.04295; Expected value within 1.075 stdevs of mean
Actual value 0.00305: Average = 0.04816 +- 0.03956; Expected value within 1.140 stdevs of mean
Actual value 0.00327: Average = 0.04509 +- 0.03657; Expected value within 1.143 stdevs of mean
Actual value 0.00351: Average = 0.04192 +- 0.03307; Expected value within 1.162 stdevs of mean
Actual value 0.00377: Average = 0.03718 +- 0.02724; Expected value within 1.227 stdevs of mean
Actual value 0.00405: Average = 0.03654 +- 0.02654; Expected value within 1.224 stdevs of mean
Actual value 0.00435: Average = 0.03317 +- 0.02223; Expected value within 1.296 stdevs of mean
Actual value 0.00467: Average = 0.03312 +- 0.02286; Expected value within 1.245 stdevs of mean
Actual value 0.00501: Average = 0.03045 +- 0.01909; Expected value within 1.333 stdevs of mean
Actual value 0.00538: Average = 0.02993 +- 0.01755; Expected value within 1.398 stdevs of mean
Actual value 0.00578: Average = 0.02725 +- 0.01450; Expected value within 1.480 stdevs of mean
Actual value 0.0062: Average = 0.02595 +- 0.01241; Expected value within 1.592 stdevs of mean
Actual value 0.00666: Average = 0.02505 +- 0.01108; Expected value within 1.660 stdevs of mean
Actual value 0.00715: Average = 0.02400 +- 0.00959; Expected value within 1.757 stdevs of mean
Actual value 0.00767: Average = 0.02378 +- 0.00915; Expected value within 1.760 stdevs of mean
Actual value 0.00824: Average = 0.02334 +- 0.00913; Expected value within 1.653 stdevs of mean
Actual value 0.00885: Average = 0.02294 +- 0.00828; Expected value within 1.702 stdevs of mean
Actual value 0.0095: Average = 0.02327 +- 0.00814; Expected value within 1.692 stdevs of mean
Actual value 0.0102: Average = 0.02284 +- 0.00748; Expected value within 1.690 stdevs of mean
Actual value 0.01095: Average = 0.02307 +- 0.00720; Expected value within 1.683 stdevs of mean
Actual value 0.01176: Average = 0.02293 +- 0.00695; Expected value within 1.606 stdevs of mean
Actual value 0.01262: Average = 0.02334 +- 0.00689; Expected value within 1.555 stdevs of mean
Actual value 0.01355: Average = 0.02357 +- 0.00662; Expected value within 1.513 stdevs of mean
Actual value 0.01455: Average = 0.02387 +- 0.00659; Expected value within 1.413 stdevs of mean
With accuracy 0.005, overlap ratio: 1.0
(Min, Max, Avg) STD: 0.0065941187 0.08411038 0.03598006
Pearson's correlation coeff:  -0.3789355713537812</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-10-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="predict-one-on-two" class="level2">
<h2 class="anchored" data-anchor-id="predict-one-on-two">Predict one on two</h2>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>violin_plotter(one_pred_of_two,one_actuals_of_two,<span class="fl">0.04</span>,<span class="st">'lower left'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Prediction means and standard deviations.
Actual value 0.00098: Average = 0.09439 +- 0.09741; Expected value within 0.959 stdevs of mean
Actual value 0.00105: Average = 0.09549 +- 0.09778; Expected value within 0.966 stdevs of mean
Actual value 0.00113: Average = 0.09408 +- 0.09640; Expected value within 0.964 stdevs of mean
Actual value 0.00121: Average = 0.09148 +- 0.09509; Expected value within 0.949 stdevs of mean
Actual value 0.0013: Average = 0.09150 +- 0.09408; Expected value within 0.959 stdevs of mean
Actual value 0.00139: Average = 0.08393 +- 0.08748; Expected value within 0.944 stdevs of mean
Actual value 0.0015: Average = 0.08654 +- 0.08995; Expected value within 0.945 stdevs of mean
Actual value 0.00161: Average = 0.07968 +- 0.08180; Expected value within 0.954 stdevs of mean
Actual value 0.00172: Average = 0.08490 +- 0.08815; Expected value within 0.944 stdevs of mean
Actual value 0.00185: Average = 0.07739 +- 0.08086; Expected value within 0.934 stdevs of mean
Actual value 0.00199: Average = 0.07831 +- 0.08089; Expected value within 0.943 stdevs of mean
Actual value 0.00213: Average = 0.07777 +- 0.08135; Expected value within 0.930 stdevs of mean
Actual value 0.00229: Average = 0.07593 +- 0.08005; Expected value within 0.920 stdevs of mean
Actual value 0.00246: Average = 0.07239 +- 0.07594; Expected value within 0.921 stdevs of mean
Actual value 0.00264: Average = 0.07407 +- 0.07724; Expected value within 0.925 stdevs of mean
Actual value 0.00284: Average = 0.07151 +- 0.07552; Expected value within 0.909 stdevs of mean
Actual value 0.00305: Average = 0.07040 +- 0.07402; Expected value within 0.910 stdevs of mean
Actual value 0.00327: Average = 0.06981 +- 0.07312; Expected value within 0.910 stdevs of mean
Actual value 0.00351: Average = 0.06868 +- 0.07256; Expected value within 0.898 stdevs of mean
Actual value 0.00377: Average = 0.06610 +- 0.06944; Expected value within 0.898 stdevs of mean
Actual value 0.00405: Average = 0.06812 +- 0.07242; Expected value within 0.885 stdevs of mean
Actual value 0.00435: Average = 0.06624 +- 0.07020; Expected value within 0.882 stdevs of mean
Actual value 0.00467: Average = 0.06646 +- 0.06976; Expected value within 0.886 stdevs of mean
Actual value 0.00501: Average = 0.06527 +- 0.06836; Expected value within 0.881 stdevs of mean
Actual value 0.00538: Average = 0.06497 +- 0.06771; Expected value within 0.880 stdevs of mean
Actual value 0.00578: Average = 0.06455 +- 0.06728; Expected value within 0.874 stdevs of mean
Actual value 0.0062: Average = 0.06518 +- 0.06799; Expected value within 0.868 stdevs of mean
Actual value 0.00666: Average = 0.06625 +- 0.06883; Expected value within 0.866 stdevs of mean
Actual value 0.00715: Average = 0.06635 +- 0.06849; Expected value within 0.864 stdevs of mean
Actual value 0.00767: Average = 0.06689 +- 0.06864; Expected value within 0.863 stdevs of mean
Actual value 0.00824: Average = 0.06586 +- 0.06692; Expected value within 0.861 stdevs of mean
Actual value 0.00885: Average = 0.06848 +- 0.06879; Expected value within 0.867 stdevs of mean
Actual value 0.0095: Average = 0.07053 +- 0.06996; Expected value within 0.872 stdevs of mean
Actual value 0.0102: Average = 0.07157 +- 0.06971; Expected value within 0.880 stdevs of mean
Actual value 0.01095: Average = 0.07487 +- 0.07171; Expected value within 0.891 stdevs of mean
Actual value 0.01176: Average = 0.07707 +- 0.07231; Expected value within 0.903 stdevs of mean
Actual value 0.01262: Average = 0.07922 +- 0.07315; Expected value within 0.910 stdevs of mean
Actual value 0.01355: Average = 0.08302 +- 0.07463; Expected value within 0.931 stdevs of mean
Actual value 0.01455: Average = 0.08797 +- 0.07667; Expected value within 0.958 stdevs of mean
With accuracy 0.005, overlap ratio: 1.0
(Min, Max, Avg) STD: 0.066919096 0.0977835 0.07699143
Pearson's correlation coeff:  -0.03160578343580401</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-11-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="predict-one-on-three" class="level2">
<h2 class="anchored" data-anchor-id="predict-one-on-three">Predict one on three</h2>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>violin_plotter(one_pred_of_three,one_actuals_of_three,<span class="fl">0.04</span>,<span class="st">'lower left'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Prediction means and standard deviations.
Actual value 0.00098: Average = 0.11379 +- 0.09245; Expected value within 1.220 stdevs of mean
Actual value 0.00105: Average = 0.11851 +- 0.09566; Expected value within 1.228 stdevs of mean
Actual value 0.00113: Average = 0.11442 +- 0.09208; Expected value within 1.230 stdevs of mean
Actual value 0.00121: Average = 0.11061 +- 0.08789; Expected value within 1.245 stdevs of mean
Actual value 0.0013: Average = 0.11125 +- 0.08819; Expected value within 1.247 stdevs of mean
Actual value 0.00139: Average = 0.10073 +- 0.08168; Expected value within 1.216 stdevs of mean
Actual value 0.0015: Average = 0.10419 +- 0.08540; Expected value within 1.202 stdevs of mean
Actual value 0.00161: Average = 0.09675 +- 0.07824; Expected value within 1.216 stdevs of mean
Actual value 0.00172: Average = 0.10057 +- 0.08076; Expected value within 1.224 stdevs of mean
Actual value 0.00185: Average = 0.08699 +- 0.06894; Expected value within 1.235 stdevs of mean
Actual value 0.00199: Average = 0.08877 +- 0.07057; Expected value within 1.230 stdevs of mean
Actual value 0.00213: Average = 0.08560 +- 0.06776; Expected value within 1.232 stdevs of mean
Actual value 0.00229: Average = 0.08055 +- 0.06344; Expected value within 1.234 stdevs of mean
Actual value 0.00246: Average = 0.07469 +- 0.05916; Expected value within 1.221 stdevs of mean
Actual value 0.00264: Average = 0.07819 +- 0.06215; Expected value within 1.216 stdevs of mean
Actual value 0.00284: Average = 0.06966 +- 0.05474; Expected value within 1.221 stdevs of mean
Actual value 0.00305: Average = 0.06856 +- 0.05177; Expected value within 1.265 stdevs of mean
Actual value 0.00327: Average = 0.06524 +- 0.04891; Expected value within 1.267 stdevs of mean
Actual value 0.00351: Average = 0.06107 +- 0.04500; Expected value within 1.279 stdevs of mean
Actual value 0.00377: Average = 0.05543 +- 0.03899; Expected value within 1.325 stdevs of mean
Actual value 0.00405: Average = 0.05415 +- 0.03815; Expected value within 1.313 stdevs of mean
Actual value 0.00435: Average = 0.04995 +- 0.03345; Expected value within 1.363 stdevs of mean
Actual value 0.00467: Average = 0.04966 +- 0.03354; Expected value within 1.341 stdevs of mean
Actual value 0.00501: Average = 0.04609 +- 0.02933; Expected value within 1.401 stdevs of mean
Actual value 0.00538: Average = 0.04532 +- 0.02798; Expected value within 1.428 stdevs of mean
Actual value 0.00578: Average = 0.04095 +- 0.02412; Expected value within 1.458 stdevs of mean
Actual value 0.0062: Average = 0.03864 +- 0.02116; Expected value within 1.533 stdevs of mean
Actual value 0.00666: Average = 0.03637 +- 0.01902; Expected value within 1.562 stdevs of mean
Actual value 0.00715: Average = 0.03473 +- 0.01660; Expected value within 1.662 stdevs of mean
Actual value 0.00767: Average = 0.03315 +- 0.01480; Expected value within 1.722 stdevs of mean
Actual value 0.00824: Average = 0.03259 +- 0.01432; Expected value within 1.701 stdevs of mean
Actual value 0.00885: Average = 0.03135 +- 0.01307; Expected value within 1.722 stdevs of mean
Actual value 0.0095: Average = 0.03171 +- 0.01348; Expected value within 1.648 stdevs of mean
Actual value 0.0102: Average = 0.03040 +- 0.01172; Expected value within 1.724 stdevs of mean
Actual value 0.01095: Average = 0.03032 +- 0.01143; Expected value within 1.694 stdevs of mean
Actual value 0.01176: Average = 0.02958 +- 0.01052; Expected value within 1.694 stdevs of mean
Actual value 0.01262: Average = 0.02957 +- 0.01017; Expected value within 1.667 stdevs of mean
Actual value 0.01355: Average = 0.02950 +- 0.00981; Expected value within 1.626 stdevs of mean
Actual value 0.01455: Average = 0.02946 +- 0.00952; Expected value within 1.565 stdevs of mean
With accuracy 0.005, overlap ratio: 1.0
(Min, Max, Avg) STD: 0.009523263 0.09565765 0.045537405
Pearson's correlation coeff:  -0.41782141592876343</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-12-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="plot-monochrome-results" class="level1">
<h1>Plot monochrome results</h1>
<section id="predict-two-on-two" class="level2">
<h2 class="anchored" data-anchor-id="predict-two-on-two">Predict two on two</h2>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>violin_plotter(two_pred_of_two,two_actuals_of_two,<span class="op">-</span><span class="fl">0.002</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Prediction means and standard deviations.
Actual value 0.00098: Average = 0.07138 +- 0.08301; Expected value within 0.848 stdevs of mean
Actual value 0.00105: Average = 0.07483 +- 0.08598; Expected value within 0.858 stdevs of mean
Actual value 0.00113: Average = 0.07301 +- 0.08277; Expected value within 0.868 stdevs of mean
Actual value 0.00121: Average = 0.06976 +- 0.07919; Expected value within 0.866 stdevs of mean
Actual value 0.0013: Average = 0.07017 +- 0.07953; Expected value within 0.866 stdevs of mean
Actual value 0.00139: Average = 0.06470 +- 0.07359; Expected value within 0.860 stdevs of mean
Actual value 0.0015: Average = 0.06642 +- 0.07714; Expected value within 0.842 stdevs of mean
Actual value 0.00161: Average = 0.06289 +- 0.07096; Expected value within 0.864 stdevs of mean
Actual value 0.00172: Average = 0.06317 +- 0.07250; Expected value within 0.848 stdevs of mean
Actual value 0.00185: Average = 0.05643 +- 0.06251; Expected value within 0.873 stdevs of mean
Actual value 0.00199: Average = 0.05681 +- 0.06365; Expected value within 0.861 stdevs of mean
Actual value 0.00213: Average = 0.05537 +- 0.06208; Expected value within 0.858 stdevs of mean
Actual value 0.00229: Average = 0.05166 +- 0.05749; Expected value within 0.859 stdevs of mean
Actual value 0.00246: Average = 0.04815 +- 0.05274; Expected value within 0.866 stdevs of mean
Actual value 0.00264: Average = 0.05056 +- 0.05603; Expected value within 0.855 stdevs of mean
Actual value 0.00284: Average = 0.04515 +- 0.04862; Expected value within 0.870 stdevs of mean
Actual value 0.00305: Average = 0.04466 +- 0.04670; Expected value within 0.891 stdevs of mean
Actual value 0.00327: Average = 0.04236 +- 0.04368; Expected value within 0.895 stdevs of mean
Actual value 0.00351: Average = 0.03999 +- 0.04030; Expected value within 0.905 stdevs of mean
Actual value 0.00377: Average = 0.03644 +- 0.03429; Expected value within 0.953 stdevs of mean
Actual value 0.00405: Average = 0.03561 +- 0.03334; Expected value within 0.947 stdevs of mean
Actual value 0.00435: Average = 0.03313 +- 0.02906; Expected value within 0.990 stdevs of mean
Actual value 0.00467: Average = 0.03286 +- 0.02910; Expected value within 0.969 stdevs of mean
Actual value 0.00501: Average = 0.03081 +- 0.02527; Expected value within 1.021 stdevs of mean
Actual value 0.00538: Average = 0.03017 +- 0.02409; Expected value within 1.029 stdevs of mean
Actual value 0.00578: Average = 0.02742 +- 0.02004; Expected value within 1.080 stdevs of mean
Actual value 0.0062: Average = 0.02617 +- 0.01740; Expected value within 1.148 stdevs of mean
Actual value 0.00666: Average = 0.02473 +- 0.01473; Expected value within 1.227 stdevs of mean
Actual value 0.00715: Average = 0.02361 +- 0.01234; Expected value within 1.334 stdevs of mean
Actual value 0.00767: Average = 0.02296 +- 0.01125; Expected value within 1.359 stdevs of mean
Actual value 0.00824: Average = 0.02240 +- 0.01102; Expected value within 1.285 stdevs of mean
Actual value 0.00885: Average = 0.02198 +- 0.00945; Expected value within 1.389 stdevs of mean
Actual value 0.0095: Average = 0.02236 +- 0.00964; Expected value within 1.333 stdevs of mean
Actual value 0.0102: Average = 0.02165 +- 0.00797; Expected value within 1.437 stdevs of mean
Actual value 0.01095: Average = 0.02193 +- 0.00764; Expected value within 1.438 stdevs of mean
Actual value 0.01176: Average = 0.02182 +- 0.00703; Expected value within 1.431 stdevs of mean
Actual value 0.01262: Average = 0.02220 +- 0.00686; Expected value within 1.396 stdevs of mean
Actual value 0.01355: Average = 0.02249 +- 0.00650; Expected value within 1.376 stdevs of mean
Actual value 0.01455: Average = 0.02287 +- 0.00638; Expected value within 1.303 stdevs of mean
With accuracy 0.005, overlap ratio: 1.0
(Min, Max, Avg) STD: 0.0063841688 0.085984044 0.040047262
Pearson's correlation coeff:  -0.2972290686989727</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-13-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="predict-two-on-one" class="level2">
<h2 class="anchored" data-anchor-id="predict-two-on-one">Predict two on one</h2>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>violin_plotter(two_pred_of_one,two_actuals_of_one,<span class="fl">0.07</span>,<span class="st">'lower left'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Prediction means and standard deviations.
Actual value 0.00098: Average = 0.21357 +- 0.25940; Expected value within 0.820 stdevs of mean
Actual value 0.00105: Average = 0.21525 +- 0.26132; Expected value within 0.820 stdevs of mean
Actual value 0.00113: Average = 0.21421 +- 0.26021; Expected value within 0.819 stdevs of mean
Actual value 0.00121: Average = 0.21278 +- 0.25913; Expected value within 0.816 stdevs of mean
Actual value 0.0013: Average = 0.21290 +- 0.25948; Expected value within 0.815 stdevs of mean
Actual value 0.00139: Average = 0.21067 +- 0.25747; Expected value within 0.813 stdevs of mean
Actual value 0.0015: Average = 0.21115 +- 0.25821; Expected value within 0.812 stdevs of mean
Actual value 0.00161: Average = 0.21024 +- 0.25796; Expected value within 0.809 stdevs of mean
Actual value 0.00172: Average = 0.20956 +- 0.25709; Expected value within 0.808 stdevs of mean
Actual value 0.00185: Average = 0.20650 +- 0.25519; Expected value within 0.802 stdevs of mean
Actual value 0.00199: Average = 0.20660 +- 0.25560; Expected value within 0.800 stdevs of mean
Actual value 0.00213: Average = 0.20564 +- 0.25427; Expected value within 0.800 stdevs of mean
Actual value 0.00229: Average = 0.20363 +- 0.25284; Expected value within 0.796 stdevs of mean
Actual value 0.00246: Average = 0.20221 +- 0.25217; Expected value within 0.792 stdevs of mean
Actual value 0.00264: Average = 0.20362 +- 0.25305; Expected value within 0.794 stdevs of mean
Actual value 0.00284: Average = 0.20034 +- 0.25020; Expected value within 0.789 stdevs of mean
Actual value 0.00305: Average = 0.20061 +- 0.25105; Expected value within 0.787 stdevs of mean
Actual value 0.00327: Average = 0.19912 +- 0.24980; Expected value within 0.784 stdevs of mean
Actual value 0.00351: Average = 0.19772 +- 0.24875; Expected value within 0.781 stdevs of mean
Actual value 0.00377: Average = 0.19599 +- 0.24762; Expected value within 0.776 stdevs of mean
Actual value 0.00405: Average = 0.19505 +- 0.24648; Expected value within 0.775 stdevs of mean
Actual value 0.00435: Average = 0.19367 +- 0.24556; Expected value within 0.771 stdevs of mean
Actual value 0.00467: Average = 0.19366 +- 0.24591; Expected value within 0.769 stdevs of mean
Actual value 0.00501: Average = 0.19302 +- 0.24598; Expected value within 0.764 stdevs of mean
Actual value 0.00538: Average = 0.19267 +- 0.24550; Expected value within 0.763 stdevs of mean
Actual value 0.00578: Average = 0.19068 +- 0.24412; Expected value within 0.757 stdevs of mean
Actual value 0.0062: Average = 0.18968 +- 0.24291; Expected value within 0.755 stdevs of mean
Actual value 0.00666: Average = 0.18802 +- 0.24166; Expected value within 0.750 stdevs of mean
Actual value 0.00715: Average = 0.18708 +- 0.24125; Expected value within 0.746 stdevs of mean
Actual value 0.00767: Average = 0.18640 +- 0.24027; Expected value within 0.744 stdevs of mean
Actual value 0.00824: Average = 0.18651 +- 0.24090; Expected value within 0.740 stdevs of mean
Actual value 0.00885: Average = 0.18484 +- 0.23937; Expected value within 0.735 stdevs of mean
Actual value 0.0095: Average = 0.18483 +- 0.23920; Expected value within 0.733 stdevs of mean
Actual value 0.0102: Average = 0.18387 +- 0.23825; Expected value within 0.729 stdevs of mean
Actual value 0.01095: Average = 0.18342 +- 0.23798; Expected value within 0.725 stdevs of mean
Actual value 0.01176: Average = 0.18189 +- 0.23656; Expected value within 0.719 stdevs of mean
Actual value 0.01262: Average = 0.18201 +- 0.23640; Expected value within 0.717 stdevs of mean
Actual value 0.01355: Average = 0.18122 +- 0.23581; Expected value within 0.711 stdevs of mean
Actual value 0.01455: Average = 0.18027 +- 0.23476; Expected value within 0.706 stdevs of mean
With accuracy 0.005, overlap ratio: 1.0
(Min, Max, Avg) STD: 0.2347585 0.26131713 0.24819672
Pearson's correlation coeff:  -0.04095923990295804</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-14-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="predict-two-on-three" class="level2">
<h2 class="anchored" data-anchor-id="predict-two-on-three">Predict two on three</h2>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>violin_plotter(two_pred_of_three,two_actuals_of_three,<span class="fl">0.07</span>,<span class="st">'lower left'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Prediction means and standard deviations.
Actual value 0.00098: Average = 0.21993 +- 0.26280; Expected value within 0.833 stdevs of mean
Actual value 0.00105: Average = 0.22166 +- 0.26470; Expected value within 0.833 stdevs of mean
Actual value 0.00113: Average = 0.22053 +- 0.26362; Expected value within 0.832 stdevs of mean
Actual value 0.00121: Average = 0.21933 +- 0.26278; Expected value within 0.830 stdevs of mean
Actual value 0.0013: Average = 0.21954 +- 0.26319; Expected value within 0.829 stdevs of mean
Actual value 0.00139: Average = 0.21695 +- 0.26105; Expected value within 0.826 stdevs of mean
Actual value 0.0015: Average = 0.21754 +- 0.26168; Expected value within 0.826 stdevs of mean
Actual value 0.00161: Average = 0.21634 +- 0.26140; Expected value within 0.821 stdevs of mean
Actual value 0.00172: Average = 0.21591 +- 0.26063; Expected value within 0.822 stdevs of mean
Actual value 0.00185: Average = 0.21263 +- 0.25896; Expected value within 0.814 stdevs of mean
Actual value 0.00199: Average = 0.21275 +- 0.25921; Expected value within 0.813 stdevs of mean
Actual value 0.00213: Average = 0.21175 +- 0.25784; Expected value within 0.813 stdevs of mean
Actual value 0.00229: Average = 0.20990 +- 0.25661; Expected value within 0.809 stdevs of mean
Actual value 0.00246: Average = 0.20823 +- 0.25597; Expected value within 0.804 stdevs of mean
Actual value 0.00264: Average = 0.20954 +- 0.25667; Expected value within 0.806 stdevs of mean
Actual value 0.00284: Average = 0.20628 +- 0.25390; Expected value within 0.801 stdevs of mean
Actual value 0.00305: Average = 0.20644 +- 0.25454; Expected value within 0.799 stdevs of mean
Actual value 0.00327: Average = 0.20518 +- 0.25361; Expected value within 0.796 stdevs of mean
Actual value 0.00351: Average = 0.20364 +- 0.25238; Expected value within 0.793 stdevs of mean
Actual value 0.00377: Average = 0.20208 +- 0.25158; Expected value within 0.788 stdevs of mean
Actual value 0.00405: Average = 0.20099 +- 0.25029; Expected value within 0.787 stdevs of mean
Actual value 0.00435: Average = 0.19964 +- 0.24939; Expected value within 0.783 stdevs of mean
Actual value 0.00467: Average = 0.19959 +- 0.24968; Expected value within 0.781 stdevs of mean
Actual value 0.00501: Average = 0.19883 +- 0.24948; Expected value within 0.777 stdevs of mean
Actual value 0.00538: Average = 0.19844 +- 0.24916; Expected value within 0.775 stdevs of mean
Actual value 0.00578: Average = 0.19681 +- 0.24796; Expected value within 0.770 stdevs of mean
Actual value 0.0062: Average = 0.19589 +- 0.24675; Expected value within 0.769 stdevs of mean
Actual value 0.00666: Average = 0.19414 +- 0.24521; Expected value within 0.765 stdevs of mean
Actual value 0.00715: Average = 0.19323 +- 0.24466; Expected value within 0.761 stdevs of mean
Actual value 0.00767: Average = 0.19225 +- 0.24345; Expected value within 0.758 stdevs of mean
Actual value 0.00824: Average = 0.19257 +- 0.24418; Expected value within 0.755 stdevs of mean
Actual value 0.00885: Average = 0.19083 +- 0.24240; Expected value within 0.751 stdevs of mean
Actual value 0.0095: Average = 0.19104 +- 0.24260; Expected value within 0.748 stdevs of mean
Actual value 0.0102: Average = 0.18987 +- 0.24133; Expected value within 0.744 stdevs of mean
Actual value 0.01095: Average = 0.18922 +- 0.24081; Expected value within 0.740 stdevs of mean
Actual value 0.01176: Average = 0.18813 +- 0.23966; Expected value within 0.736 stdevs of mean
Actual value 0.01262: Average = 0.18782 +- 0.23912; Expected value within 0.733 stdevs of mean
Actual value 0.01355: Average = 0.18717 +- 0.23868; Expected value within 0.727 stdevs of mean
Actual value 0.01455: Average = 0.18612 +- 0.23755; Expected value within 0.722 stdevs of mean
With accuracy 0.005, overlap ratio: 1.0
(Min, Max, Avg) STD: 0.23755178 0.26470035 0.25167865
Pearson's correlation coeff:  -0.040805914762526256</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-15-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="plot-scrambled-results" class="level1">
<h1>Plot Scrambled Results</h1>
<section id="predict-three-on-three" class="level2">
<h2 class="anchored" data-anchor-id="predict-three-on-three">Predict three on three</h2>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>violin_plotter(three_pred_of_three,three_actuals_of_three,<span class="fl">0.07</span>,<span class="st">'lower left'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Prediction means and standard deviations.
Actual value 0.00098: Average = 0.06362 +- 0.06201; Expected value within 1.010 stdevs of mean
Actual value 0.00105: Average = 0.06742 +- 0.06584; Expected value within 1.008 stdevs of mean
Actual value 0.00113: Average = 0.06479 +- 0.06197; Expected value within 1.027 stdevs of mean
Actual value 0.00121: Average = 0.06209 +- 0.05880; Expected value within 1.035 stdevs of mean
Actual value 0.0013: Average = 0.06248 +- 0.05916; Expected value within 1.034 stdevs of mean
Actual value 0.00139: Average = 0.05516 +- 0.05194; Expected value within 1.035 stdevs of mean
Actual value 0.0015: Average = 0.05770 +- 0.05647; Expected value within 0.995 stdevs of mean
Actual value 0.00161: Average = 0.05258 +- 0.04878; Expected value within 1.045 stdevs of mean
Actual value 0.00172: Average = 0.05487 +- 0.05169; Expected value within 1.028 stdevs of mean
Actual value 0.00185: Average = 0.04684 +- 0.04127; Expected value within 1.090 stdevs of mean
Actual value 0.00199: Average = 0.04780 +- 0.04299; Expected value within 1.066 stdevs of mean
Actual value 0.00213: Average = 0.04604 +- 0.04038; Expected value within 1.087 stdevs of mean
Actual value 0.00229: Average = 0.04311 +- 0.03699; Expected value within 1.104 stdevs of mean
Actual value 0.00246: Average = 0.03973 +- 0.03338; Expected value within 1.116 stdevs of mean
Actual value 0.00264: Average = 0.04196 +- 0.03628; Expected value within 1.084 stdevs of mean
Actual value 0.00284: Average = 0.03737 +- 0.03013; Expected value within 1.146 stdevs of mean
Actual value 0.00305: Average = 0.03636 +- 0.02720; Expected value within 1.224 stdevs of mean
Actual value 0.00327: Average = 0.03499 +- 0.02560; Expected value within 1.239 stdevs of mean
Actual value 0.00351: Average = 0.03319 +- 0.02329; Expected value within 1.274 stdevs of mean
Actual value 0.00377: Average = 0.03059 +- 0.01911; Expected value within 1.404 stdevs of mean
Actual value 0.00405: Average = 0.03023 +- 0.01896; Expected value within 1.380 stdevs of mean
Actual value 0.00435: Average = 0.02845 +- 0.01583; Expected value within 1.523 stdevs of mean
Actual value 0.00467: Average = 0.02860 +- 0.01637; Expected value within 1.462 stdevs of mean
Actual value 0.00501: Average = 0.02714 +- 0.01381; Expected value within 1.602 stdevs of mean
Actual value 0.00538: Average = 0.02704 +- 0.01347; Expected value within 1.608 stdevs of mean
Actual value 0.00578: Average = 0.02540 +- 0.01168; Expected value within 1.680 stdevs of mean
Actual value 0.0062: Average = 0.02477 +- 0.01018; Expected value within 1.825 stdevs of mean
Actual value 0.00666: Average = 0.02396 +- 0.00915; Expected value within 1.890 stdevs of mean
Actual value 0.00715: Average = 0.02346 +- 0.00815; Expected value within 2.002 stdevs of mean
Actual value 0.00767: Average = 0.02303 +- 0.00760; Expected value within 2.020 stdevs of mean
Actual value 0.00824: Average = 0.02271 +- 0.00741; Expected value within 1.953 stdevs of mean
Actual value 0.00885: Average = 0.02242 +- 0.00684; Expected value within 1.983 stdevs of mean
Actual value 0.0095: Average = 0.02282 +- 0.00699; Expected value within 1.906 stdevs of mean
Actual value 0.0102: Average = 0.02222 +- 0.00622; Expected value within 1.932 stdevs of mean
Actual value 0.01095: Average = 0.02268 +- 0.00626; Expected value within 1.873 stdevs of mean
Actual value 0.01176: Average = 0.02245 +- 0.00576; Expected value within 1.858 stdevs of mean
Actual value 0.01262: Average = 0.02268 +- 0.00560; Expected value within 1.795 stdevs of mean
Actual value 0.01355: Average = 0.02288 +- 0.00531; Expected value within 1.755 stdevs of mean
Actual value 0.01455: Average = 0.02319 +- 0.00520; Expected value within 1.660 stdevs of mean
With accuracy 0.005, overlap ratio: 1.0
(Min, Max, Avg) STD: 0.005202022 0.06584137 0.027027944
Pearson's correlation coeff:  -0.32091227259777555</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-16-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="predict-three-on-one" class="level2">
<h2 class="anchored" data-anchor-id="predict-three-on-one">Predict three on one</h2>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>violin_plotter(three_pred_of_one,three_actuals_of_one,<span class="fl">0.07</span>,<span class="st">'lower left'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Prediction means and standard deviations.
Actual value 0.00098: Average = 0.05603 +- 0.05871; Expected value within 0.938 stdevs of mean
Actual value 0.00105: Average = 0.05929 +- 0.06308; Expected value within 0.923 stdevs of mean
Actual value 0.00113: Average = 0.05675 +- 0.05868; Expected value within 0.948 stdevs of mean
Actual value 0.00121: Average = 0.05448 +- 0.05535; Expected value within 0.962 stdevs of mean
Actual value 0.0013: Average = 0.05462 +- 0.05546; Expected value within 0.961 stdevs of mean
Actual value 0.00139: Average = 0.04832 +- 0.04855; Expected value within 0.967 stdevs of mean
Actual value 0.0015: Average = 0.05064 +- 0.05389; Expected value within 0.912 stdevs of mean
Actual value 0.00161: Average = 0.04617 +- 0.04685; Expected value within 0.951 stdevs of mean
Actual value 0.00172: Average = 0.04793 +- 0.04857; Expected value within 0.951 stdevs of mean
Actual value 0.00185: Average = 0.04085 +- 0.03853; Expected value within 1.012 stdevs of mean
Actual value 0.00199: Average = 0.04168 +- 0.04044; Expected value within 0.982 stdevs of mean
Actual value 0.00213: Average = 0.04041 +- 0.03846; Expected value within 0.995 stdevs of mean
Actual value 0.00229: Average = 0.03725 +- 0.03447; Expected value within 1.014 stdevs of mean
Actual value 0.00246: Average = 0.03442 +- 0.03102; Expected value within 1.030 stdevs of mean
Actual value 0.00264: Average = 0.03657 +- 0.03438; Expected value within 0.987 stdevs of mean
Actual value 0.00284: Average = 0.03217 +- 0.02860; Expected value within 1.026 stdevs of mean
Actual value 0.00305: Average = 0.03133 +- 0.02504; Expected value within 1.130 stdevs of mean
Actual value 0.00327: Average = 0.02992 +- 0.02364; Expected value within 1.128 stdevs of mean
Actual value 0.00351: Average = 0.02835 +- 0.02136; Expected value within 1.163 stdevs of mean
Actual value 0.00377: Average = 0.02571 +- 0.01758; Expected value within 1.248 stdevs of mean
Actual value 0.00405: Average = 0.02560 +- 0.01679; Expected value within 1.283 stdevs of mean
Actual value 0.00435: Average = 0.02383 +- 0.01421; Expected value within 1.371 stdevs of mean
Actual value 0.00467: Average = 0.02398 +- 0.01526; Expected value within 1.266 stdevs of mean
Actual value 0.00501: Average = 0.02257 +- 0.01302; Expected value within 1.348 stdevs of mean
Actual value 0.00538: Average = 0.02254 +- 0.01233; Expected value within 1.391 stdevs of mean
Actual value 0.00578: Average = 0.02099 +- 0.01086; Expected value within 1.401 stdevs of mean
Actual value 0.0062: Average = 0.02046 +- 0.00958; Expected value within 1.488 stdevs of mean
Actual value 0.00666: Average = 0.01993 +- 0.00874; Expected value within 1.519 stdevs of mean
Actual value 0.00715: Average = 0.01950 +- 0.00823; Expected value within 1.501 stdevs of mean
Actual value 0.00767: Average = 0.01944 +- 0.00792; Expected value within 1.487 stdevs of mean
Actual value 0.00824: Average = 0.01905 +- 0.00805; Expected value within 1.342 stdevs of mean
Actual value 0.00885: Average = 0.01900 +- 0.00741; Expected value within 1.369 stdevs of mean
Actual value 0.0095: Average = 0.01936 +- 0.00721; Expected value within 1.367 stdevs of mean
Actual value 0.0102: Average = 0.01903 +- 0.00672; Expected value within 1.314 stdevs of mean
Actual value 0.01095: Average = 0.01945 +- 0.00655; Expected value within 1.297 stdevs of mean
Actual value 0.01176: Average = 0.01931 +- 0.00626; Expected value within 1.205 stdevs of mean
Actual value 0.01262: Average = 0.01973 +- 0.00605; Expected value within 1.176 stdevs of mean
Actual value 0.01355: Average = 0.02002 +- 0.00574; Expected value within 1.126 stdevs of mean
Actual value 0.01455: Average = 0.02035 +- 0.00557; Expected value within 1.040 stdevs of mean
With accuracy 0.005, overlap ratio: 1.0
(Min, Max, Avg) STD: 0.0055710743 0.06307855 0.025619494
Pearson's correlation coeff:  -0.3026944032571685</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-17-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="predict-three-on-two" class="level2">
<h2 class="anchored" data-anchor-id="predict-three-on-two">Predict three on two</h2>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>violin_plotter(three_pred_of_two,three_actuals_of_two,<span class="fl">0.07</span>,<span class="st">'lower left'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Prediction means and standard deviations.
Actual value 0.00098: Average = 0.08428 +- 0.08892; Expected value within 0.937 stdevs of mean
Actual value 0.00105: Average = 0.08515 +- 0.08939; Expected value within 0.941 stdevs of mean
Actual value 0.00113: Average = 0.08397 +- 0.08827; Expected value within 0.938 stdevs of mean
Actual value 0.00121: Average = 0.08225 +- 0.08816; Expected value within 0.919 stdevs of mean
Actual value 0.0013: Average = 0.08239 +- 0.08710; Expected value within 0.931 stdevs of mean
Actual value 0.00139: Average = 0.07479 +- 0.07951; Expected value within 0.923 stdevs of mean
Actual value 0.0015: Average = 0.07717 +- 0.08246; Expected value within 0.918 stdevs of mean
Actual value 0.00161: Average = 0.07009 +- 0.07270; Expected value within 0.942 stdevs of mean
Actual value 0.00172: Average = 0.07639 +- 0.08095; Expected value within 0.922 stdevs of mean
Actual value 0.00185: Average = 0.06885 +- 0.07352; Expected value within 0.911 stdevs of mean
Actual value 0.00199: Average = 0.07017 +- 0.07358; Expected value within 0.927 stdevs of mean
Actual value 0.00213: Average = 0.06975 +- 0.07431; Expected value within 0.910 stdevs of mean
Actual value 0.00229: Average = 0.06800 +- 0.07284; Expected value within 0.902 stdevs of mean
Actual value 0.00246: Average = 0.06402 +- 0.06844; Expected value within 0.899 stdevs of mean
Actual value 0.00264: Average = 0.06623 +- 0.06998; Expected value within 0.909 stdevs of mean
Actual value 0.00284: Average = 0.06333 +- 0.06871; Expected value within 0.880 stdevs of mean
Actual value 0.00305: Average = 0.06206 +- 0.06677; Expected value within 0.884 stdevs of mean
Actual value 0.00327: Average = 0.06178 +- 0.06589; Expected value within 0.888 stdevs of mean
Actual value 0.00351: Average = 0.06067 +- 0.06562; Expected value within 0.871 stdevs of mean
Actual value 0.00377: Average = 0.05737 +- 0.06279; Expected value within 0.854 stdevs of mean
Actual value 0.00405: Average = 0.05986 +- 0.06665; Expected value within 0.837 stdevs of mean
Actual value 0.00435: Average = 0.05769 +- 0.06460; Expected value within 0.826 stdevs of mean
Actual value 0.00467: Average = 0.05811 +- 0.06438; Expected value within 0.830 stdevs of mean
Actual value 0.00501: Average = 0.05642 +- 0.06334; Expected value within 0.812 stdevs of mean
Actual value 0.00538: Average = 0.05644 +- 0.06268; Expected value within 0.815 stdevs of mean
Actual value 0.00578: Average = 0.05552 +- 0.06299; Expected value within 0.790 stdevs of mean
Actual value 0.0062: Average = 0.05621 +- 0.06459; Expected value within 0.774 stdevs of mean
Actual value 0.00666: Average = 0.05729 +- 0.06579; Expected value within 0.770 stdevs of mean
Actual value 0.00715: Average = 0.05721 +- 0.06586; Expected value within 0.760 stdevs of mean
Actual value 0.00767: Average = 0.05749 +- 0.06666; Expected value within 0.747 stdevs of mean
Actual value 0.00824: Average = 0.05603 +- 0.06537; Expected value within 0.731 stdevs of mean
Actual value 0.00885: Average = 0.05864 +- 0.06803; Expected value within 0.732 stdevs of mean
Actual value 0.0095: Average = 0.06074 +- 0.06959; Expected value within 0.736 stdevs of mean
Actual value 0.0102: Average = 0.06125 +- 0.07004; Expected value within 0.729 stdevs of mean
Actual value 0.01095: Average = 0.06425 +- 0.07275; Expected value within 0.733 stdevs of mean
Actual value 0.01176: Average = 0.06601 +- 0.07430; Expected value within 0.730 stdevs of mean
Actual value 0.01262: Average = 0.06784 +- 0.07586; Expected value within 0.728 stdevs of mean
Actual value 0.01355: Average = 0.07078 +- 0.07820; Expected value within 0.732 stdevs of mean
Actual value 0.01455: Average = 0.07516 +- 0.08121; Expected value within 0.746 stdevs of mean
With accuracy 0.005, overlap ratio: 1.0
(Min, Max, Avg) STD: 0.06267618 0.08939067 0.072379455
Pearson's correlation coeff:  -0.04512962249275726</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-18-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="combined-plots" class="level2">
<h2 class="anchored" data-anchor-id="combined-plots">Combined plots</h2>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#predictions on own kind</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co">#means1,std1,means2,std2,means3,std3=cross_mean_err_calculator(one_pred_of_one,one_actuals_of_one,two_pred_of_two,two_actuals_of_two,three_pred_of_three,three_actuals_of_three,three_cases=True)</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>fig, (ax1,ax2) <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">1</span>,ncols<span class="op">=</span><span class="dv">2</span>,figsize<span class="op">=</span>(<span class="dv">11</span>,<span class="dv">6</span>),dpi<span class="op">=</span><span class="dv">600</span>)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co">#NOTE: I've commented out the previous method of plotting due to its inelegance, but I have kept it for posterity as a way of plotting error bands without seaborn.</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co">#ONE ON ONE</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.errorbar(np.sort(np.unique(orientation_actuals_of_orientation)),np.abs(means1-np.sort(np.unique(orientation_actuals_of_orientation))),yerr=(std1),ecolor='blue',elinewidth=0.5,capsize=3,color='blue',label="Trained Orientation Predicting Orientation")</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.plot(np.sort(np.unique(one_actuals_of_one)),np.abs(means1-np.sort(np.unique(one_actuals_of_one))),'b-',label="Trained Orientation Predicting Orientation")</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.fill_between(np.sort(np.unique(one_actuals_of_one)),np.abs(means1-np.sort(np.unique(one_actuals_of_one)))-std1,np.abs(means1-np.sort(np.unique(one_actuals_of_one)))+std1,color='b',alpha=0.25)</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co">#TWO ON TWO</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.errorbar(np.sort(np.unique(monochrome_actuals_of_monochrome)),np.abs(means2-np.sort(np.unique(monochrome_actuals_of_monochrome))),yerr=(std2),ecolor='red',elinewidth=0.5,capsize=3,color='red',label="Trained Monochrome Predicting Monochrome")</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.plot(np.sort(np.unique(two_actuals_of_two)),np.abs(means2-np.sort(np.unique(two_actuals_of_two))),'r-',label="Trained Monochrome Predicting Monochrome")</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.fill_between(np.sort(np.unique(two_actuals_of_two)),np.abs(means2-np.sort(np.unique(two_actuals_of_two)))-std2,np.abs(means2-np.sort(np.unique(two_actuals_of_two)))+std2,color='r',alpha=0.25)</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="co">#THREE ON THREE</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.plot(np.sort(np.unique(three_actuals_of_three)),np.abs(means3-np.sort(np.unique(three_actuals_of_three))),'g-',label="Trained Scrambled Predicting Scrambled")</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.fill_between(np.sort(np.unique(three_actuals_of_three)),np.abs(means3-np.sort(np.unique(three_actuals_of_three)))-std3,np.abs(means3-np.sort(np.unique(three_actuals_of_three)))+std3,color='g',alpha=0.25)</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a><span class="co">#ZERO LINE, LEGEND, AX1 PLOT CONFIG</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.plot(np.sort(np.unique(one_actuals_of_one)),np.zeros(np.unique(one_actuals_of_one).shape[0]),color='black',label='True value line',linestyle='dotted',alpha=0.5)</span></span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.legend(loc='upper left')</span></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.set_xscale("log")</span></span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.get_xaxis().set_major_formatter(ticker.ScalarFormatter())</span></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.set_xticks(np.unique(y_val1))</span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.set_xlabel("Actual turning rate")</span></span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.set_ylabel("Absolute mean prediction difference")</span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>df_one <span class="op">=</span> pd.DataFrame()</span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>df_two <span class="op">=</span> pd.DataFrame()</span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>df_three <span class="op">=</span> pd.DataFrame()</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>df_one.insert(<span class="dv">0</span>,<span class="st">"predicted"</span>,np.<span class="bu">abs</span>(one_pred_of_one<span class="op">-</span>one_actuals_of_one))</span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a>df_one.insert(<span class="dv">1</span>,<span class="st">"actuals"</span>,one_actuals_of_one)</span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a>df_two.insert(<span class="dv">0</span>,<span class="st">"predicted"</span>,np.<span class="bu">abs</span>(two_pred_of_two<span class="op">-</span>two_actuals_of_two))</span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a>df_two.insert(<span class="dv">1</span>,<span class="st">"actuals"</span>,np.<span class="bu">abs</span>(two_actuals_of_two))</span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a>df_three.insert(<span class="dv">0</span>,<span class="st">"predicted"</span>,np.<span class="bu">abs</span>(three_pred_of_three<span class="op">-</span>three_actuals_of_three))</span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a>df_three.insert(<span class="dv">1</span>,<span class="st">"actuals"</span>,np.<span class="bu">abs</span>(three_actuals_of_three))</span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a>df_one[<span class="st">'Data Type'</span>]<span class="op">=</span><span class="st">'Orientation'</span></span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a>df_two[<span class="st">'Data Type'</span>]<span class="op">=</span><span class="st">'Monochrome'</span></span>
<span id="cb36-42"><a href="#cb36-42" aria-hidden="true" tabindex="-1"></a>df_three[<span class="st">'Data Type'</span>]<span class="op">=</span><span class="st">'Scrambled'</span></span>
<span id="cb36-43"><a href="#cb36-43" aria-hidden="true" tabindex="-1"></a>cdf <span class="op">=</span> pd.concat([df_one,df_two,df_three])</span>
<span id="cb36-44"><a href="#cb36-44" aria-hidden="true" tabindex="-1"></a><span class="co">#print(cdf.head())</span></span>
<span id="cb36-45"><a href="#cb36-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-46"><a href="#cb36-46" aria-hidden="true" tabindex="-1"></a>sns.lineplot(ax<span class="op">=</span>ax1,</span>
<span id="cb36-47"><a href="#cb36-47" aria-hidden="true" tabindex="-1"></a>             x<span class="op">=</span><span class="st">"actuals"</span>,</span>
<span id="cb36-48"><a href="#cb36-48" aria-hidden="true" tabindex="-1"></a>             y<span class="op">=</span><span class="st">"predicted"</span>,</span>
<span id="cb36-49"><a href="#cb36-49" aria-hidden="true" tabindex="-1"></a>             hue<span class="op">=</span><span class="st">"Data Type"</span>,</span>
<span id="cb36-50"><a href="#cb36-50" aria-hidden="true" tabindex="-1"></a>             data<span class="op">=</span>cdf,</span>
<span id="cb36-51"><a href="#cb36-51" aria-hidden="true" tabindex="-1"></a>             errorbar<span class="op">=</span><span class="st">"sd"</span>,</span>
<span id="cb36-52"><a href="#cb36-52" aria-hidden="true" tabindex="-1"></a>             palette<span class="op">=</span>{<span class="st">"Orientation"</span>: <span class="st">"blue"</span>, <span class="st">"Monochrome"</span>: <span class="st">"red"</span>, <span class="st">"Scrambled"</span>: <span class="st">"green"</span>},</span>
<span id="cb36-53"><a href="#cb36-53" aria-hidden="true" tabindex="-1"></a>             marker<span class="op">=</span><span class="st">'o'</span>)</span>
<span id="cb36-54"><a href="#cb36-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-55"><a href="#cb36-55" aria-hidden="true" tabindex="-1"></a>sns.boxplot(ax<span class="op">=</span>ax2,</span>
<span id="cb36-56"><a href="#cb36-56" aria-hidden="true" tabindex="-1"></a>            data<span class="op">=</span>cdf,</span>
<span id="cb36-57"><a href="#cb36-57" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="st">"actuals"</span>,</span>
<span id="cb36-58"><a href="#cb36-58" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">"predicted"</span>,</span>
<span id="cb36-59"><a href="#cb36-59" aria-hidden="true" tabindex="-1"></a>            hue<span class="op">=</span><span class="st">"Data Type"</span>,</span>
<span id="cb36-60"><a href="#cb36-60" aria-hidden="true" tabindex="-1"></a>            fill<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb36-61"><a href="#cb36-61" aria-hidden="true" tabindex="-1"></a>            gap<span class="op">=</span><span class="fl">.4</span>,</span>
<span id="cb36-62"><a href="#cb36-62" aria-hidden="true" tabindex="-1"></a>            whis<span class="op">=</span>(<span class="dv">0</span>,<span class="dv">100</span>),</span>
<span id="cb36-63"><a href="#cb36-63" aria-hidden="true" tabindex="-1"></a>            width<span class="op">=</span><span class="fl">.5</span>,</span>
<span id="cb36-64"><a href="#cb36-64" aria-hidden="true" tabindex="-1"></a>            palette<span class="op">=</span>{<span class="st">"Orientation"</span>: <span class="st">"blue"</span>, <span class="st">"Monochrome"</span>: <span class="st">"red"</span>, <span class="st">"Scrambled"</span>: <span class="st">"green"</span>})</span>
<span id="cb36-65"><a href="#cb36-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-66"><a href="#cb36-66" aria-hidden="true" tabindex="-1"></a>ax1.set_xlabel(<span class="st">"Actual turning rate"</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb36-67"><a href="#cb36-67" aria-hidden="true" tabindex="-1"></a>ax2.set_xlabel(<span class="st">"Actual turning rate"</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb36-68"><a href="#cb36-68" aria-hidden="true" tabindex="-1"></a>ax1.set_ylabel(<span class="st">"Absolute mean prediction difference"</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb36-69"><a href="#cb36-69" aria-hidden="true" tabindex="-1"></a>ax2.set_ylabel(<span class="st">"Absolute mean prediction difference"</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb36-70"><a href="#cb36-70" aria-hidden="true" tabindex="-1"></a>ax2.set_title(<span class="st">"IQR Comparison of Self-Extrapol (Low-Bound)"</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb36-71"><a href="#cb36-71" aria-hidden="true" tabindex="-1"></a>ax1.set_title(<span class="st">"STD Comparison of Self-Extrapol (Low-Bound)"</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb36-72"><a href="#cb36-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-73"><a href="#cb36-73" aria-hidden="true" tabindex="-1"></a>ax1.set_xscale(<span class="st">"log"</span>)</span>
<span id="cb36-74"><a href="#cb36-74" aria-hidden="true" tabindex="-1"></a>ax1.get_xaxis().set_major_formatter(ticker.ScalarFormatter())</span>
<span id="cb36-75"><a href="#cb36-75" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.set_xticks([0.001,0.002,0.004,0.008,0.016])</span></span>
<span id="cb36-76"><a href="#cb36-76" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.set_ylim([0,0.12])</span></span>
<span id="cb36-77"><a href="#cb36-77" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.set_ylim([0,0.25])</span></span>
<span id="cb36-78"><a href="#cb36-78" aria-hidden="true" tabindex="-1"></a><span class="co">#ax1.xaxis.set_major_locator(plt.MaxNLocator(8))</span></span>
<span id="cb36-79"><a href="#cb36-79" aria-hidden="true" tabindex="-1"></a>ax2.xaxis.set_major_locator(plt.MaxNLocator(<span class="dv">7</span>))</span>
<span id="cb36-80"><a href="#cb36-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-81"><a href="#cb36-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-82"><a href="#cb36-82" aria-hidden="true" tabindex="-1"></a><span class="co">#handles,labels=ax2.get_legend_handles_labels()</span></span>
<span id="cb36-83"><a href="#cb36-83" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.legend(handles=handles[1:],labels=labels[1:]) #this should fix hue title appearing in rightmost figure legend</span></span>
<span id="cb36-84"><a href="#cb36-84" aria-hidden="true" tabindex="-1"></a>ax1.legend(loc<span class="op">=</span><span class="st">"upper right"</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb36-85"><a href="#cb36-85" aria-hidden="true" tabindex="-1"></a>ax2.legend(fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb36-86"><a href="#cb36-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-87"><a href="#cb36-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-88"><a href="#cb36-88" aria-hidden="true" tabindex="-1"></a><span class="co">#predictions on other kind</span></span>
<span id="cb36-89"><a href="#cb36-89" aria-hidden="true" tabindex="-1"></a><span class="co">#means1,std1,means2,std2,means3,std3=cross_mean_err_calculator(one_pred_of_two,one_actuals_of_two,two_pred_of_one,two_actuals_of_one,three_cases=False)</span></span>
<span id="cb36-90"><a href="#cb36-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-91"><a href="#cb36-91" aria-hidden="true" tabindex="-1"></a><span class="co">#ONE ON TWO</span></span>
<span id="cb36-92"><a href="#cb36-92" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.errorbar(np.sort(np.unique(orientation_actuals_of_monochrome)),np.abs(means1-np.sort(np.unique(orientation_actuals_of_monochrome))),yerr=(std1),ecolor='blue',elinewidth=0.5,capsize=3,color='blue',label="Trained Orientation Predicting Monochrome")</span></span>
<span id="cb36-93"><a href="#cb36-93" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.plot(np.sort(np.unique(one_actuals_of_two)),np.abs(means1-np.sort(np.unique(one_actuals_of_two))),'b-',label="Trained Orientation Predicting Monochrome")</span></span>
<span id="cb36-94"><a href="#cb36-94" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.fill_between(np.sort(np.unique(one_actuals_of_two)),np.abs(means1-np.sort(np.unique(one_actuals_of_two)))-std1,np.abs(means1-np.sort(np.unique(one_actuals_of_two)))+std1,color='b',alpha=0.25)</span></span>
<span id="cb36-95"><a href="#cb36-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-96"><a href="#cb36-96" aria-hidden="true" tabindex="-1"></a><span class="co">#TWO ON ONE</span></span>
<span id="cb36-97"><a href="#cb36-97" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.errorbar(np.sort(np.unique(monochrome_actuals_of_orientation)),np.abs(means2-np.sort(np.unique(monochrome_actuals_of_orientation))),yerr=(std2),ecolor='red',elinewidth=0.5,capsize=3,color='red',label="Trained Monochrome Predicting Orientation")</span></span>
<span id="cb36-98"><a href="#cb36-98" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.plot(np.sort(np.unique(two_actuals_of_one)),np.abs(means2-np.sort(np.unique(two_actuals_of_one))),'r-',label="Trained Monochrome Predicting Orientation")</span></span>
<span id="cb36-99"><a href="#cb36-99" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.fill_between(np.sort(np.unique(two_actuals_of_one)),np.abs(means2-np.sort(np.unique(two_actuals_of_one)))-std2,np.abs(means2-np.sort(np.unique(two_actuals_of_one)))+std2,color='r',alpha=0.25)</span></span>
<span id="cb36-100"><a href="#cb36-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-101"><a href="#cb36-101" aria-hidden="true" tabindex="-1"></a><span class="co">#ZERO LINE, LEGEND, AX2 PLOT CONFIG</span></span>
<span id="cb36-102"><a href="#cb36-102" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.plot(np.sort(np.unique(one_actuals_of_two)),np.zeros(np.unique(one_actuals_of_two).shape[0]),color='black',label='True value line',linestyle='dotted',alpha=0.5)</span></span>
<span id="cb36-103"><a href="#cb36-103" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.legend(loc='upper left')</span></span>
<span id="cb36-104"><a href="#cb36-104" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.set_xscale("log")</span></span>
<span id="cb36-105"><a href="#cb36-105" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.get_xaxis().set_major_formatter(ticker.ScalarFormatter())</span></span>
<span id="cb36-106"><a href="#cb36-106" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.set_xticks(np.unique(y_val1))</span></span>
<span id="cb36-107"><a href="#cb36-107" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.set_xlabel("Actual turning rate")</span></span>
<span id="cb36-108"><a href="#cb36-108" aria-hidden="true" tabindex="-1"></a><span class="co">#ax2.set_ylabel("Absolute mean prediction difference")</span></span>
<span id="cb36-109"><a href="#cb36-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-110"><a href="#cb36-110" aria-hidden="true" tabindex="-1"></a>fig.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-19-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>df12<span class="op">=</span>pd.DataFrame()</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>df21<span class="op">=</span>pd.DataFrame()</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>df13<span class="op">=</span>pd.DataFrame()</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>df31<span class="op">=</span>pd.DataFrame()</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>df23<span class="op">=</span>pd.DataFrame()</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>df32<span class="op">=</span>pd.DataFrame()</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>df12.insert(<span class="dv">0</span>,<span class="st">"predicted"</span>,np.<span class="bu">abs</span>(one_pred_of_two<span class="op">-</span>one_actuals_of_two))</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>df12.insert(<span class="dv">1</span>,<span class="st">"actuals"</span>,one_actuals_of_two)</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>df21.insert(<span class="dv">0</span>,<span class="st">"predicted"</span>,np.<span class="bu">abs</span>(two_pred_of_one<span class="op">-</span>two_actuals_of_one))</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>df21.insert(<span class="dv">1</span>,<span class="st">"actuals"</span>,two_actuals_of_one)</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>df13.insert(<span class="dv">0</span>,<span class="st">"predicted"</span>,np.<span class="bu">abs</span>(one_pred_of_three<span class="op">-</span>one_actuals_of_three))</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>df13.insert(<span class="dv">1</span>,<span class="st">"actuals"</span>,one_actuals_of_three)</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>df31.insert(<span class="dv">0</span>,<span class="st">"predicted"</span>,np.<span class="bu">abs</span>(three_pred_of_one<span class="op">-</span>three_actuals_of_one))</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>df31.insert(<span class="dv">1</span>,<span class="st">"actuals"</span>,three_actuals_of_one)</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>df23.insert(<span class="dv">0</span>,<span class="st">"predicted"</span>,np.<span class="bu">abs</span>(two_pred_of_three<span class="op">-</span>two_actuals_of_three))</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>df23.insert(<span class="dv">1</span>,<span class="st">"actuals"</span>,two_actuals_of_three)</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>df32.insert(<span class="dv">0</span>,<span class="st">"predicted"</span>,np.<span class="bu">abs</span>(three_pred_of_two<span class="op">-</span>three_actuals_of_two))</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>df32.insert(<span class="dv">1</span>,<span class="st">"actuals"</span>,three_actuals_of_two)</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">3</span>,ncols<span class="op">=</span><span class="dv">2</span>,figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">16</span>),dpi<span class="op">=</span><span class="dv">600</span>)</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a><span class="co">#PREDICTING ONE</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>df21[<span class="st">'Data Type'</span>]<span class="op">=</span><span class="st">'Monochrome'</span></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>df31[<span class="st">'Data Type'</span>]<span class="op">=</span><span class="st">'Scrambled'</span></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>cdf <span class="op">=</span> pd.concat([df_one,df21,df31])</span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>sns.lineplot(ax<span class="op">=</span>ax[<span class="dv">0</span>][<span class="dv">0</span>],</span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>             x<span class="op">=</span><span class="st">"actuals"</span>,</span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>             y<span class="op">=</span><span class="st">"predicted"</span>,</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>             hue<span class="op">=</span><span class="st">"Data Type"</span>,</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>             data<span class="op">=</span>cdf,</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>             errorbar<span class="op">=</span><span class="st">"sd"</span>,</span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a>             palette<span class="op">=</span>{<span class="st">"Orientation"</span>: <span class="st">"blue"</span>, <span class="st">"Monochrome"</span>: <span class="st">"red"</span>, <span class="st">"Scrambled"</span>: <span class="st">"green"</span>},</span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a>             marker<span class="op">=</span><span class="st">'o'</span>)</span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a>sns.boxplot(ax<span class="op">=</span>ax[<span class="dv">0</span>][<span class="dv">1</span>],</span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a>            data<span class="op">=</span>cdf,</span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="st">"actuals"</span>,</span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">"predicted"</span>,</span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a>            hue<span class="op">=</span><span class="st">"Data Type"</span>,</span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a>            fill<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a>            gap<span class="op">=</span><span class="fl">.4</span>,</span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a>            whis<span class="op">=</span>(<span class="dv">0</span>,<span class="dv">100</span>),</span>
<span id="cb37-45"><a href="#cb37-45" aria-hidden="true" tabindex="-1"></a>            width<span class="op">=</span><span class="fl">.5</span>,</span>
<span id="cb37-46"><a href="#cb37-46" aria-hidden="true" tabindex="-1"></a>            palette<span class="op">=</span>{<span class="st">"Orientation"</span>: <span class="st">"blue"</span>, <span class="st">"Monochrome"</span>: <span class="st">"red"</span>, <span class="st">"Scrambled"</span>: <span class="st">"green"</span>},)</span>
<span id="cb37-47"><a href="#cb37-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-48"><a href="#cb37-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-49"><a href="#cb37-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-50"><a href="#cb37-50" aria-hidden="true" tabindex="-1"></a><span class="co">#PREDICTING TWO</span></span>
<span id="cb37-51"><a href="#cb37-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-52"><a href="#cb37-52" aria-hidden="true" tabindex="-1"></a>df12[<span class="st">'Data Type'</span>]<span class="op">=</span><span class="st">'Orientation'</span></span>
<span id="cb37-53"><a href="#cb37-53" aria-hidden="true" tabindex="-1"></a>df32[<span class="st">'Data Type'</span>]<span class="op">=</span><span class="st">'Scrambled'</span></span>
<span id="cb37-54"><a href="#cb37-54" aria-hidden="true" tabindex="-1"></a>cdf <span class="op">=</span> pd.concat([df12,df_two,df32])</span>
<span id="cb37-55"><a href="#cb37-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-56"><a href="#cb37-56" aria-hidden="true" tabindex="-1"></a>sns.lineplot(ax<span class="op">=</span>ax[<span class="dv">1</span>][<span class="dv">0</span>],</span>
<span id="cb37-57"><a href="#cb37-57" aria-hidden="true" tabindex="-1"></a>             x<span class="op">=</span><span class="st">"actuals"</span>,</span>
<span id="cb37-58"><a href="#cb37-58" aria-hidden="true" tabindex="-1"></a>             y<span class="op">=</span><span class="st">"predicted"</span>,</span>
<span id="cb37-59"><a href="#cb37-59" aria-hidden="true" tabindex="-1"></a>             hue<span class="op">=</span><span class="st">"Data Type"</span>,</span>
<span id="cb37-60"><a href="#cb37-60" aria-hidden="true" tabindex="-1"></a>             data<span class="op">=</span>cdf,</span>
<span id="cb37-61"><a href="#cb37-61" aria-hidden="true" tabindex="-1"></a>             errorbar<span class="op">=</span><span class="st">"sd"</span>,</span>
<span id="cb37-62"><a href="#cb37-62" aria-hidden="true" tabindex="-1"></a>             palette<span class="op">=</span>{<span class="st">"Orientation"</span>: <span class="st">"blue"</span>, <span class="st">"Monochrome"</span>: <span class="st">"red"</span>, <span class="st">"Scrambled"</span>: <span class="st">"green"</span>},</span>
<span id="cb37-63"><a href="#cb37-63" aria-hidden="true" tabindex="-1"></a>             marker<span class="op">=</span><span class="st">'o'</span>)</span>
<span id="cb37-64"><a href="#cb37-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-65"><a href="#cb37-65" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>][<span class="dv">0</span>].legend(loc<span class="op">=</span><span class="st">'upper right'</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb37-66"><a href="#cb37-66" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>][<span class="dv">1</span>].legend(loc<span class="op">=</span><span class="st">'upper right'</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb37-67"><a href="#cb37-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-68"><a href="#cb37-68" aria-hidden="true" tabindex="-1"></a>sns.boxplot(ax<span class="op">=</span>ax[<span class="dv">1</span>][<span class="dv">1</span>],</span>
<span id="cb37-69"><a href="#cb37-69" aria-hidden="true" tabindex="-1"></a>            data<span class="op">=</span>cdf,</span>
<span id="cb37-70"><a href="#cb37-70" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="st">"actuals"</span>,</span>
<span id="cb37-71"><a href="#cb37-71" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">"predicted"</span>,</span>
<span id="cb37-72"><a href="#cb37-72" aria-hidden="true" tabindex="-1"></a>            hue<span class="op">=</span><span class="st">"Data Type"</span>,</span>
<span id="cb37-73"><a href="#cb37-73" aria-hidden="true" tabindex="-1"></a>            fill<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb37-74"><a href="#cb37-74" aria-hidden="true" tabindex="-1"></a>            gap<span class="op">=</span><span class="fl">.4</span>,</span>
<span id="cb37-75"><a href="#cb37-75" aria-hidden="true" tabindex="-1"></a>            whis<span class="op">=</span>(<span class="dv">0</span>,<span class="dv">100</span>),</span>
<span id="cb37-76"><a href="#cb37-76" aria-hidden="true" tabindex="-1"></a>            width<span class="op">=</span><span class="fl">.5</span>,</span>
<span id="cb37-77"><a href="#cb37-77" aria-hidden="true" tabindex="-1"></a>            palette<span class="op">=</span>{<span class="st">"Orientation"</span>: <span class="st">"blue"</span>, <span class="st">"Monochrome"</span>: <span class="st">"red"</span>, <span class="st">"Scrambled"</span>: <span class="st">"green"</span>})</span>
<span id="cb37-78"><a href="#cb37-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-79"><a href="#cb37-79" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>][<span class="dv">0</span>].legend(loc<span class="op">=</span><span class="st">'upper right'</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb37-80"><a href="#cb37-80" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>][<span class="dv">1</span>].legend(loc<span class="op">=</span><span class="st">'upper right'</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb37-81"><a href="#cb37-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-82"><a href="#cb37-82" aria-hidden="true" tabindex="-1"></a><span class="co">#PREDICTING THREE</span></span>
<span id="cb37-83"><a href="#cb37-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-84"><a href="#cb37-84" aria-hidden="true" tabindex="-1"></a>df13[<span class="st">'Data Type'</span>]<span class="op">=</span><span class="st">'Orientation'</span></span>
<span id="cb37-85"><a href="#cb37-85" aria-hidden="true" tabindex="-1"></a>df23[<span class="st">'Data Type'</span>]<span class="op">=</span><span class="st">'Monochrome'</span></span>
<span id="cb37-86"><a href="#cb37-86" aria-hidden="true" tabindex="-1"></a>cdf <span class="op">=</span> pd.concat([df13,df23,df_three])</span>
<span id="cb37-87"><a href="#cb37-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-88"><a href="#cb37-88" aria-hidden="true" tabindex="-1"></a>sns.lineplot(ax<span class="op">=</span>ax[<span class="dv">2</span>][<span class="dv">0</span>],</span>
<span id="cb37-89"><a href="#cb37-89" aria-hidden="true" tabindex="-1"></a>             x<span class="op">=</span><span class="st">"actuals"</span>,</span>
<span id="cb37-90"><a href="#cb37-90" aria-hidden="true" tabindex="-1"></a>             y<span class="op">=</span><span class="st">"predicted"</span>,</span>
<span id="cb37-91"><a href="#cb37-91" aria-hidden="true" tabindex="-1"></a>             hue<span class="op">=</span><span class="st">"Data Type"</span>,</span>
<span id="cb37-92"><a href="#cb37-92" aria-hidden="true" tabindex="-1"></a>             data<span class="op">=</span>cdf,</span>
<span id="cb37-93"><a href="#cb37-93" aria-hidden="true" tabindex="-1"></a>             errorbar<span class="op">=</span><span class="st">"sd"</span>,</span>
<span id="cb37-94"><a href="#cb37-94" aria-hidden="true" tabindex="-1"></a>             palette<span class="op">=</span>{<span class="st">"Orientation"</span>: <span class="st">"blue"</span>, <span class="st">"Monochrome"</span>: <span class="st">"red"</span>, <span class="st">"Scrambled"</span>: <span class="st">"green"</span>},</span>
<span id="cb37-95"><a href="#cb37-95" aria-hidden="true" tabindex="-1"></a>             marker<span class="op">=</span><span class="st">'o'</span>)</span>
<span id="cb37-96"><a href="#cb37-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-97"><a href="#cb37-97" aria-hidden="true" tabindex="-1"></a>sns.boxplot(ax<span class="op">=</span>ax[<span class="dv">2</span>][<span class="dv">1</span>],</span>
<span id="cb37-98"><a href="#cb37-98" aria-hidden="true" tabindex="-1"></a>            data<span class="op">=</span>cdf,</span>
<span id="cb37-99"><a href="#cb37-99" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="st">"actuals"</span>,</span>
<span id="cb37-100"><a href="#cb37-100" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">"predicted"</span>,</span>
<span id="cb37-101"><a href="#cb37-101" aria-hidden="true" tabindex="-1"></a>            hue<span class="op">=</span><span class="st">"Data Type"</span>,</span>
<span id="cb37-102"><a href="#cb37-102" aria-hidden="true" tabindex="-1"></a>            fill<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb37-103"><a href="#cb37-103" aria-hidden="true" tabindex="-1"></a>            gap<span class="op">=</span><span class="fl">.4</span>,</span>
<span id="cb37-104"><a href="#cb37-104" aria-hidden="true" tabindex="-1"></a>            whis<span class="op">=</span>(<span class="dv">0</span>,<span class="dv">100</span>),</span>
<span id="cb37-105"><a href="#cb37-105" aria-hidden="true" tabindex="-1"></a>            width<span class="op">=</span><span class="fl">.5</span>,</span>
<span id="cb37-106"><a href="#cb37-106" aria-hidden="true" tabindex="-1"></a>            palette<span class="op">=</span>{<span class="st">"Orientation"</span>: <span class="st">"blue"</span>, <span class="st">"Monochrome"</span>: <span class="st">"red"</span>, <span class="st">"Scrambled"</span>: <span class="st">"green"</span>})</span>
<span id="cb37-107"><a href="#cb37-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-108"><a href="#cb37-108" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">2</span>][<span class="dv">0</span>].legend(loc<span class="op">=</span><span class="st">'upper right'</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb37-109"><a href="#cb37-109" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">2</span>][<span class="dv">1</span>].legend(fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb37-110"><a href="#cb37-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-111"><a href="#cb37-111" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i,examiner <span class="kw">in</span> <span class="bu">enumerate</span>([<span class="st">"STD"</span>,<span class="st">"IQR"</span>]):</span>
<span id="cb37-112"><a href="#cb37-112" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j,examined <span class="kw">in</span> <span class="bu">enumerate</span>([<span class="st">"Orientation"</span>,<span class="st">"Monochrome"</span>,<span class="st">"Scrambled"</span>]):</span>
<span id="cb37-113"><a href="#cb37-113" aria-hidden="true" tabindex="-1"></a>        ax[j][i].set_xlabel(<span class="st">"Actual turning rate"</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb37-114"><a href="#cb37-114" aria-hidden="true" tabindex="-1"></a>        ax[j][i].set_ylabel(<span class="st">"Absolute mean prediction difference"</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb37-115"><a href="#cb37-115" aria-hidden="true" tabindex="-1"></a>        ax[j][i].set_title(<span class="ss">f"</span><span class="sc">{</span>examiner<span class="sc">}</span><span class="ss"> Comparison Extrapol on </span><span class="sc">{</span>examined<span class="sc">}</span><span class="ss"> (Low-Bound)"</span>,fontsize<span class="op">=</span><span class="fl">15.2</span>)</span>
<span id="cb37-116"><a href="#cb37-116" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> i <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb37-117"><a href="#cb37-117" aria-hidden="true" tabindex="-1"></a>            ax[j][i].set_xscale(<span class="st">"log"</span>)</span>
<span id="cb37-118"><a href="#cb37-118" aria-hidden="true" tabindex="-1"></a>            ax[j][i].get_xaxis().set_major_formatter(ticker.ScalarFormatter())</span>
<span id="cb37-119"><a href="#cb37-119" aria-hidden="true" tabindex="-1"></a>            ax[j][i].set_xticks([<span class="fl">0.001</span>,<span class="fl">0.002</span>,<span class="fl">0.004</span>,<span class="fl">0.008</span>,<span class="fl">0.016</span>])</span>
<span id="cb37-120"><a href="#cb37-120" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb37-121"><a href="#cb37-121" aria-hidden="true" tabindex="-1"></a>            ax[j][i].xaxis.set_major_locator(plt.MaxNLocator(<span class="dv">8</span>))</span>
<span id="cb37-122"><a href="#cb37-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-123"><a href="#cb37-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-124"><a href="#cb37-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-125"><a href="#cb37-125" aria-hidden="true" tabindex="-1"></a>fig.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="cp_extrapolation_files/figure-html/cell-20-output-1.png" class="img-fluid"></p>
</div>
</div>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Made with Quarto (cp branch)</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



<script src="../../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>